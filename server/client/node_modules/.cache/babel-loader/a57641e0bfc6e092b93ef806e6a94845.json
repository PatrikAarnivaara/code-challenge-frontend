{"ast":null,"code":"import _toConsumableArray from\"/Users/patrik/code-challenge-frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/patrik/code-challenge-frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/patrik/code-challenge-frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useEffect,useState}from'react';import InfiniteScroll from'react-infinite-scroller';import GridLoader from'react-spinners/GridLoader';import unsplash from'../shared/api/unsplash';import Photo from'./Photo/Photo';import{createUseStyles}from'react-jss';import{css}from'@emotion/react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles({container:{margin:'auto',padding:'1em'}});var override=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tdisplay: block;\\n\\tmargin: 0 auto;\\n\"])));var App=function App(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setIsLoaded=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var getPhotosFromUnsplash=function getPhotosFromUnsplash(){try{unsplash.get('photos').then(function(response){if(response.status===200){setImages([].concat(_toConsumableArray(images),_toConsumableArray(response.data)));setIsLoaded(true);console.log(response.data);if(errorMessage!==''){setErrorMessage('');}}});}catch(error){console.log(error);setErrorMessage('Something went wrong while trying to fetch images from Unsplash');}};useEffect(function(){getPhotosFromUnsplash();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);if(!images){return/*#__PURE__*/_jsx(GridLoader,{});}return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(InfiniteScroll,{pageStart:0,loadMore:getPhotosFromUnsplash,hasMore:true,loader:/*#__PURE__*/_jsx(GridLoader,{css:override},0),children:loaded?/*#__PURE__*/_jsx(Photo,{images:images}):''}),/*#__PURE__*/_jsx(\"h3\",{children:errorMessage})]});};export default App;","map":{"version":3,"sources":["/Users/patrik/code-challenge-frontend/client/src/components/App.jsx"],"names":["React","useEffect","useState","InfiniteScroll","GridLoader","unsplash","Photo","createUseStyles","css","useStyles","container","margin","padding","override","App","classes","images","setImages","loaded","setIsLoaded","errorMessage","setErrorMessage","getPhotosFromUnsplash","get","then","response","status","data","console","log","error"],"mappings":"qhBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,OAASC,eAAT,KAAgC,WAAhC,CACA,OAASC,GAAT,KAAoB,gBAApB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGF,eAAe,CAAC,CACjCG,SAAS,CAAE,CACVC,MAAM,CAAE,MADE,CAEVC,OAAO,CAAE,KAFC,CADsB,CAAD,CAAjC,CAOA,GAAMC,CAAAA,QAAQ,CAAGL,GAAH,yGAAd,CAKA,GAAMM,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CACjB,GAAMC,CAAAA,OAAO,CAAGN,SAAS,EAAzB,CADiB,cAEWP,QAAQ,CAAC,EAAD,CAFnB,wCAEVc,MAFU,eAEFC,SAFE,8BAGaf,QAAQ,CAAC,KAAD,CAHrB,yCAGVgB,MAHU,eAGFC,WAHE,8BAIuBjB,QAAQ,CAAC,EAAD,CAJ/B,yCAIVkB,YAJU,eAIIC,eAJJ,eAMjB,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CACnC,GAAI,CACHjB,QAAQ,CAACkB,GAAT,CAAa,QAAb,EAAuBC,IAAvB,CAA4B,SAACC,QAAD,CAAc,CACzC,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC5BT,SAAS,8BAAKD,MAAL,qBAAgBS,QAAQ,CAACE,IAAzB,GAAT,CACAR,WAAW,CAAC,IAAD,CAAX,CACAS,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACE,IAArB,EACA,GAAIP,YAAY,GAAK,EAArB,CAAyB,CACxBC,eAAe,CAAC,EAAD,CAAf,CACA,CACD,CACD,CATD,EAUA,CAAC,MAAOS,KAAP,CAAc,CACfF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACAT,eAAe,CAAC,iEAAD,CAAf,CACA,CACD,CAhBD,CAkBApB,SAAS,CAAC,UAAM,CACfqB,qBAAqB,GACrB;AACA,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAI,CAACN,MAAL,CAAa,CACZ,mBAAO,KAAC,UAAD,IAAP,CACA,CAED,mBACC,aAAK,SAAS,CAAED,OAAO,CAACL,SAAxB,wBACC,KAAC,cAAD,EACC,SAAS,CAAE,CADZ,CAEC,QAAQ,CAAEY,qBAFX,CAGC,OAAO,CAAE,IAHV,CAIC,MAAM,cAAE,KAAC,UAAD,EAAoB,GAAG,CAAET,QAAzB,EAAiB,CAAjB,CAJT,UAMEK,MAAM,cAAG,KAAC,KAAD,EAAO,MAAM,CAAEF,MAAf,EAAH,CAA+B,EANvC,EADD,cAUC,oBAAKI,YAAL,EAVD,GADD,CAcA,CA/CD,CAiDA,cAAeN,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport GridLoader from 'react-spinners/GridLoader';\nimport unsplash from '../shared/api/unsplash';\nimport Photo from './Photo/Photo';\nimport { createUseStyles } from 'react-jss';\nimport { css } from '@emotion/react';\n\nconst useStyles = createUseStyles({\n\tcontainer: {\n\t\tmargin: 'auto',\n\t\tpadding: '1em',\n\t},\n});\n\nconst override = css`\n\tdisplay: block;\n\tmargin: 0 auto;\n`;\n\nconst App = () => {\n\tconst classes = useStyles();\n\tconst [images, setImages] = useState([]);\n\tconst [loaded, setIsLoaded] = useState(false);\n\tconst [errorMessage, setErrorMessage] = useState('');\n\n\tconst getPhotosFromUnsplash = () => {\n\t\ttry {\n\t\t\tunsplash.get('photos').then((response) => {\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\tsetImages([...images, ...response.data]);\n\t\t\t\t\tsetIsLoaded(true);\n\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\tif (errorMessage !== '') {\n\t\t\t\t\t\tsetErrorMessage('');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetErrorMessage('Something went wrong while trying to fetch images from Unsplash');\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tgetPhotosFromUnsplash();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tif (!images) {\n\t\treturn <GridLoader />;\n\t}\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<InfiniteScroll\n\t\t\t\tpageStart={0}\n\t\t\t\tloadMore={getPhotosFromUnsplash}\n\t\t\t\thasMore={true}\n\t\t\t\tloader={<GridLoader key={0} css={override} />}\n\t\t\t>\n\t\t\t\t{loaded ? <Photo images={images} /> : ''}\n\t\t\t</InfiniteScroll>\n\n\t\t\t<h3>{errorMessage}</h3>\n\t\t</div>\n\t);\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}