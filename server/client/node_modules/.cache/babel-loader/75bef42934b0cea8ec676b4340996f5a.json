{"ast":null,"code":"import _regeneratorRuntime from\"/Users/patrik/code-challenge-frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/patrik/code-challenge-frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/patrik/code-challenge-frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/patrik/code-challenge-frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/patrik/code-challenge-frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useEffect,useState}from'react';import InfiniteScroll from'react-infinite-scroller';import GridLoader from'react-spinners/GridLoader';import unsplash from'../api/unsplash';import Photo from'./Photo/Photo';import{createUseStyles}from'react-jss';import{css}from'@emotion/react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles({container:{margin:'auto',padding:'1em'}});var override=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tdisplay: block;\\n\\tmargin: 0 auto;\\n\"])));function App(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setIsLoaded=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var getPhotosFromUnsplash=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return unsplash.get('photos');case 3:response=_context.sent;if(response.status===200){setImages([].concat(_toConsumableArray(images),_toConsumableArray(response.data)));setIsLoaded(true);if(errorMessage!==''){setErrorMessage('');}}_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setErrorMessage('Something went wrong while trying to fetch images from Unsplash');case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getPhotosFromUnsplash(){return _ref.apply(this,arguments);};}();useEffect(function(){getPhotosFromUnsplash();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(InfiniteScroll,{pageStart:0,loadMore:getPhotosFromUnsplash,hasMore:true,loader:/*#__PURE__*/_jsx(GridLoader,{css:override},0),children:loaded?/*#__PURE__*/_jsx(Photo,{images:images}):''}),/*#__PURE__*/_jsx(\"h3\",{children:errorMessage})]});}export default App;","map":{"version":3,"sources":["/Users/patrik/code-challenge-frontend/client/src/components/App.jsx"],"names":["React","useEffect","useState","InfiniteScroll","GridLoader","unsplash","Photo","createUseStyles","css","useStyles","container","margin","padding","override","App","classes","images","setImages","loaded","setIsLoaded","errorMessage","setErrorMessage","getPhotosFromUnsplash","get","response","status","data","console","log"],"mappings":"w1BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,OAASC,eAAT,KAAgC,WAAhC,CACA,OAASC,GAAT,KAAoB,gBAApB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGF,eAAe,CAAC,CACjCG,SAAS,CAAE,CACVC,MAAM,CAAE,MADE,CAEVC,OAAO,CAAE,KAFC,CADsB,CAAD,CAAjC,CAOA,GAAMC,CAAAA,QAAQ,CAAGL,GAAH,yGAAd,CAKA,QAASM,CAAAA,GAAT,EAAe,CACd,GAAMC,CAAAA,OAAO,CAAGN,SAAS,EAAzB,CADc,cAEcP,QAAQ,CAAC,EAAD,CAFtB,wCAEPc,MAFO,eAECC,SAFD,8BAGgBf,QAAQ,CAAC,KAAD,CAHxB,yCAGPgB,MAHO,eAGCC,WAHD,8BAI0BjB,QAAQ,CAAC,EAAD,CAJlC,yCAIPkB,YAJO,eAIOC,eAJP,eAMd,GAAMC,CAAAA,qBAAqB,0FAAG,sLAELjB,CAAAA,QAAQ,CAACkB,GAAT,CAAa,QAAb,CAFK,QAEtBC,QAFsB,eAG5B,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC5BR,SAAS,8BAAKD,MAAL,qBAAgBQ,QAAQ,CAACE,IAAzB,GAAT,CACAP,WAAW,CAAC,IAAD,CAAX,CACA,GAAIC,YAAY,GAAK,EAArB,CAAyB,CACxBC,eAAe,CAAC,EAAD,CAAf,CACA,CACD,CAT2B,+EAW5BM,OAAO,CAACC,GAAR,cACAP,eAAe,CAAC,iEAAD,CAAf,CAZ4B,oEAAH,kBAArBC,CAAAA,qBAAqB,0CAA3B,CAgBArB,SAAS,CAAC,UAAM,CACfqB,qBAAqB,GACrB;AACA,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACC,aAAK,SAAS,CAAEP,OAAO,CAACL,SAAxB,wBACC,KAAC,cAAD,EACC,SAAS,CAAE,CADZ,CAEC,QAAQ,CAAEY,qBAFX,CAGC,OAAO,CAAE,IAHV,CAIC,MAAM,cAAE,KAAC,UAAD,EAAoB,GAAG,CAAET,QAAzB,EAAiB,CAAjB,CAJT,UAMEK,MAAM,cAAG,KAAC,KAAD,EAAO,MAAM,CAAEF,MAAf,EAAH,CAA+B,EANvC,EADD,cASC,oBAAKI,YAAL,EATD,GADD,CAaA,CAED,cAAeN,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport GridLoader from 'react-spinners/GridLoader';\nimport unsplash from '../api/unsplash';\nimport Photo from './Photo/Photo';\nimport { createUseStyles } from 'react-jss';\nimport { css } from '@emotion/react';\n\nconst useStyles = createUseStyles({\n\tcontainer: {\n\t\tmargin: 'auto',\n\t\tpadding: '1em',\n\t},\n});\n\nconst override = css`\n\tdisplay: block;\n\tmargin: 0 auto;\n`;\n\nfunction App() {\n\tconst classes = useStyles();\n\tconst [images, setImages] = useState([]);\n\tconst [loaded, setIsLoaded] = useState(false);\n\tconst [errorMessage, setErrorMessage] = useState('');\n\n\tconst getPhotosFromUnsplash = async () => {\n\t\ttry {\n\t\t\tconst response = await unsplash.get('photos');\n\t\t\tif (response.status === 200) {\n\t\t\t\tsetImages([...images, ...response.data]);\n\t\t\t\tsetIsLoaded(true);\n\t\t\t\tif (errorMessage !== '') {\n\t\t\t\t\tsetErrorMessage('');\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetErrorMessage('Something went wrong while trying to fetch images from Unsplash');\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tgetPhotosFromUnsplash();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<InfiniteScroll\n\t\t\t\tpageStart={0}\n\t\t\t\tloadMore={getPhotosFromUnsplash}\n\t\t\t\thasMore={true}\n\t\t\t\tloader={<GridLoader key={0} css={override} />}\n\t\t\t>\n\t\t\t\t{loaded ? <Photo images={images} /> : ''}\n\t\t\t</InfiniteScroll>\n\t\t\t<h3>{errorMessage}</h3>\n\t\t</div>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}